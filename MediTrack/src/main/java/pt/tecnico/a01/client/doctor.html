<!DOCTYPE html>
<html>
<head>
    <title>Doctor Records</title>
</head>
<body>
    <h1>Doctor Records</h1>

    <h2>View Records</h2>
    <form id="viewRecordsForm">
        <label for="patientName">Patient Name:</label>
        <input type="text" id="patientName" name="patientName" required><br><br>
        <button type="submit">View Records</button>
    </form>
    <div id="recordsContainer"></div>

    <script>
        document.getElementById('viewRecordsForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const patientName = document.getElementById('patientName').value;

            // Make an API call to fetch records for the given patient from the server
            fetch(API_URL + '/' + encodeURIComponent(patientName))
                .then(response => response.json())
                .then(records => {
                    const recordsContainer = document.getElementById('recordsContainer');
                    recordsContainer.innerHTML = '';

                    if (records.length === 0) {
                        recordsContainer.innerHTML = 'No records found for the given patient.';
                    } else {
                        records.forEach(record => {
                            const recordElement = document.createElement('div');
                            recordElement.innerHTML = `
                                <h3>${record.patientName}</h3>
                                <p>${record.recordDetails}</p>
                            `;
                            recordsContainer.appendChild(recordElement);
                        });
                    }
                })
                .catch(error => {
                    console.error('Error fetching records:', error);
                });
        });
    </script>
</body>
</html>
